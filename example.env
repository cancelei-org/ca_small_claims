# ==============================================================================
# California Small Claims Court Forms - Environment Configuration
# ==============================================================================
# Copy this file to .env and configure for your environment
# Required variables are marked with [REQUIRED]
# ==============================================================================

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
# [REQUIRED for production] Primary PostgreSQL database URL
DATABASE_URL=postgres://localhost/ca_small_claims_development

# Optional: Database credentials (alternative to DATABASE_URL)
# DATABASE_HOST=localhost
# DATABASE_USERNAME=postgres
# DATABASE_PASSWORD=

# Optional: Separate databases for Solid infrastructure (fall back to DATABASE_URL)
# CACHE_DATABASE_URL=postgres://localhost/ca_small_claims_cache
# QUEUE_DATABASE_URL=postgres://localhost/ca_small_claims_queue
# CABLE_DATABASE_URL=postgres://localhost/ca_small_claims_cable

# ==============================================================================
# RAILS CONFIGURATION
# ==============================================================================
# [REQUIRED] Secret key for encrypting cookies and credentials
# Generate with: bin/rails secret
SECRET_KEY_BASE=your-secret-key-here

# Environment (development, test, production)
RAILS_ENV=development

# Logging level in production (debug, info, warn, error, fatal)
# RAILS_LOG_LEVEL=info

# Database connection pool size (defaults to 5)
# RAILS_MAX_THREADS=5

# ==============================================================================
# SERVER CONFIGURATION
# ==============================================================================
# Server port (defaults to 3000)
# PORT=3000

# Number of Puma workers (defaults to 1, increase for multi-core)
# WEB_CONCURRENCY=2

# Run Solid Queue supervisor inside Puma (for single-server deployments)
# SOLID_QUEUE_IN_PUMA=true

# Number of Solid Queue worker processes
# JOB_CONCURRENCY=2

# ==============================================================================
# APPLICATION HOST
# ==============================================================================
# [RECOMMENDED] Your application's public hostname (used in emails, links)
APP_HOST=localhost:3000

# ==============================================================================
# EMAIL CONFIGURATION
# ==============================================================================
# Default sender address for all emails
MAILER_FROM_ADDRESS=noreply@example.com

# ------------------------------------------------------------------------------
# Option 1: EMAILIT Email Service (Recommended for production)
# Sign up at https://emailit.com and get your API key
# ------------------------------------------------------------------------------
# EMAILIT_API_KEY=your-emailit-api-key
# EMAILIT_FROM_EMAIL=noreply@yourdomain.com
# EMAILIT_FROM_NAME=California Small Claims

# ------------------------------------------------------------------------------
# Option 2: Standard SMTP Configuration
# Works with any SMTP provider (Gmail, SendGrid, Mailgun, AWS SES, etc.)
# ------------------------------------------------------------------------------
# SMTP_ADDRESS=smtp.example.com
# SMTP_PORT=587
# SMTP_DOMAIN=yourdomain.com
# SMTP_USERNAME=your-smtp-username
# SMTP_PASSWORD=your-smtp-password
# SMTP_AUTHENTICATION=plain
# SMTP_ENABLE_STARTTLS=true

# ==============================================================================
# PDF PROCESSING
# ==============================================================================
# Path to pdftk executable (usually auto-detected)
# Install: apt-get install pdftk-java (Debian/Ubuntu) or brew install pdftk-java (macOS)
PDFTK_PATH=/usr/bin/pdftk

# Path to Chromium/Chrome for HTML-to-PDF conversion (Grover/Puppeteer)
# CHROMIUM_PATH=/usr/bin/google-chrome

# Enable async PDF generation for large forms
# PDF_ASYNC_ENABLED=false

# ==============================================================================
# S3 / CLOUD STORAGE (Optional)
# ==============================================================================
# Enable S3 storage for PDF templates
# USE_S3_STORAGE=false

# S3-compatible storage (IDrive, AWS S3, MinIO, etc.)
# S3_BUCKET_NAME=ca-small-claims-pdfs
# IDRIVE_ENDPOINT=https://e1a2.your-region.idrivee2.com
# IDRIVE_REGION_CODE=us-west-2
# IDRIVE_ACCESS_KEY_ID=your-access-key
# IDRIVE_SECRET_ASSET_KEY=your-secret-key

# ==============================================================================
# API AUTHENTICATION (Optional)
# ==============================================================================
# Token for authenticating API requests
# API_TOKEN=change-me-to-secure-token

# ==============================================================================
# WEBHOOKS (Optional)
# ==============================================================================
# Comma-separated list of webhook endpoints to notify on events
# WEBHOOK_ENDPOINTS=https://your-webhook.com/endpoint

# Secret for signing webhook payloads (HMAC-SHA256)
# WEBHOOK_SECRET=your-webhook-secret

# ==============================================================================
# ERROR MONITORING (Optional)
# ==============================================================================
# Sentry DSN for error tracking
# SENTRY_DSN=https://your-key@sentry.io/project-id

# ==============================================================================
# PERFORMANCE MONITORING (Optional)
# ==============================================================================
# Threshold for logging slow database queries (milliseconds)
# SLOW_QUERY_THRESHOLD_MS=200

# Threshold for alerting on slow queries (milliseconds)
# SLOW_QUERY_ALERT_THRESHOLD_MS=400

# ==============================================================================
# HEALTH CHECKS (Optional)
# ==============================================================================
# Enable OkComputer health check endpoints at /health
# OKCOMPUTER_ENABLED=true

# ==============================================================================
# EXPERIMENTAL FEATURES (Optional)
# ==============================================================================
# These features are in development and may not be stable

# LLM-powered semantic search (requires flukebase_connect)
# OPENAI_API_KEY=sk-your-openai-key
# ANTHROPIC_API_KEY=your-anthropic-key

# Qdrant vector database for semantic search
# QDRANT_URL=http://localhost:6333
# QDRANT_API_KEY=your-qdrant-key
